# Core/Web Unification + OpenAPI Export

## Decision

- Retire `packages/core` and move LLM logic into `packages/web`
- Generate `openapi.json` via the Elysia OpenAPI plugin and use a generated client in the CLI
- Execution plan: `../tasks/done/core-web-unify-openapi-plan.md`

## Why

- Centralize the API contract in OpenAPI (single source for types and clients)
- Remove double dependency on core (web/cli) and make the API boundary explicit
- Commit generated artifacts to avoid regeneration in CI/deploy

## Resulting structure

```
packages/web/src/lib/llm/
  core.ts
  prompts.ts
  types.ts
  index.ts

packages/web/openapi.json
packages/cli/src/lib/api-client.generated.ts
```

## Notes

- OpenAPI spec is fetched from `GET /api/openapi/json` and committed as `packages/web/openapi.json`
- The CLI uses `openapi-fetch` and types generated by `openapi-typescript`
