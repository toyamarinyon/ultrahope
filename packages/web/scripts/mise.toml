# Scripts tasks for packages/web
# See .workspace-fs/docs/mise/tasks/environment-separation.md for pattern details

[tasks."script:clear-test-user"]
description = "Clear test user from Turso and Polar"
run = "bun run scripts/clear-test-user.ts {{arg(name='email')}}"
dir = "{{config_root}}/.."

[tasks."sandbox:clear-test-user"]
description = "Clear test user (sandbox env)"
run = "mise -E sandbox run script:clear-test-user {{arg(name='email')}}"

[tasks."script:polar-sync"]
description = "Sync Polar.sh configuration (meters, benefits, products)"
run = "bun run scripts/polar-sync.ts {{arg(name='flags', var=true)}}"
dir = "{{config_root}}/.."

[tasks."sandbox:polar-sync"]
description = "Sync Polar.sh configuration (sandbox)"
run = "mise -E sandbox run script:polar-sync {{arg(name='flags', var=true)}}"

[tasks."production:polar-sync"]
description = "Sync Polar.sh configuration (production)"
run = "mise -E production run script:polar-sync --production {{arg(name='flags', var=true)}}"
